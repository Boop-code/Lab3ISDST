# Text Search App (Вариант 17)

## Краткое описание проекта

Приложение рекурсивно сканирует указанную директорию, ищет заданное ключевое слово в файлах с указанными расширениями и выводит в консоль абсолютные пути файлов, где слово было найдено.

- **Назначение**: автоматический поиск ключевых фраз (например, ошибок или предупреждений) в логах и текстовых файлах.
- **Технологии**: Java 17, Gradle (сборка и управление зависимостями)
- **Особенности**:
  - Поддержка регистрозависимого и регистронезависимого поиска
  - Гибкая настройка через конфигурационный файл `app.properties`
  - Полное покрытие бизнес-логики unit-тестами
  - Кроссплатформенная сборка (Windows, Linux)

---

## Пример работы

### Вход (файл `app.properties`):
```properties
scan.directory=./data
search.keyword=error
search.case.sensitive=false
scan.file.extensions=.txt,.log
```

### Содержимое папки `./data`:
```
data/
├── app.log      → содержит строку "CRITICAL ERROR"
├── readme.txt   → содержит "minor error occurred"
└── image.png    → игнорируется (расширение не в списке)
```

### Выход (stdout при запуске):
```
/home/user/project/data/app.log
/home/user/project/data/readme.txt
```

> Каждый файл выводится только один раз, даже если совпадений несколько.

---

## Как выполнить сборку проекта

1. Убедитесь, что установлен **JDK 17 или выше**.
2. В корне проекта выполните команду:

```bash
# Linux / macOS
./gradlew build

# Windows
gradlew.bat build
```

3. После успешной сборки будет создан исполняемый JAR-файл:  
   `build/libs/text-search-app-1.0.jar`

> Сборка включает компиляцию, запуск всех тестов и создание JAR.

---

## Как выполнить конфигурацию проекта

Создайте файл **`app.properties` в той же директории, где находится JAR-файл**.  
Этот файл **не включён в JAR** и **игнорируется в Git** (указан в `.gitignore`).

### Поддерживаемые параметры:

| Параметр | Описание | Пример значения |
|--------|--------|------------------|
| `scan.directory` | Директория для рекурсивного сканирования | `./logs` |
| `search.keyword` | **Обязательно!** Ключевое слово для поиска | `CRITICAL` |
| `search.case.sensitive` | Учитывать регистр (`true`/`false`) | `false` |
| `scan.file.extensions` | Расширения файлов через запятую (с точкой!) | `.txt,.log` |

### Пример корректного `app.properties`:
```properties
scan.directory=./data
search.keyword=CRITICAL
search.case.sensitive=false
scan.file.extensions=.txt,.log
```

> ⚠️ Убедитесь, что указанные директория и файлы существуют перед запуском.

---

## Как запустить тесты и какой результат ожидать

Выполните в корне проекта:

```bash
# Linux / macOS
./gradlew test

# Windows
gradlew.bat test
```

### Ожидаемый результат:
- Все тесты завершаются успешно (`BUILD SUCCESSFUL`)
- Покрыты следующие компоненты:
  - `FileScanner` — рекурсивный обход и фильтрация по расширению
  - `TextSearcher` — поиск с учётом/игнорированием регистра
  - `AppConfig` — создание конфигурации через фабричные методы

Отчёт о тестах доступен по пути:  
`build/reports/tests/test/index.html`

---

## Как запустить приложение

1. Убедитесь, что:
   - Рядом с JAR-файлом лежит корректный `app.properties`
   - Директория `scan.directory` существует и содержит подходящие файлы

2. Запустите приложение:

```bash
java -jar build/libs/text-search-app-1.0.jar
```

3. Приложение выведет в консоль **абсолютные пути** всех файлов, содержащих искомое ключевое слово.

> Пример вывода:  
> `D:\projects\text-search-app\data\app.log`
